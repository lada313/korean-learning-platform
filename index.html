<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KoreanMaster</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-language"></i>
                    <span>KoreanMaster</span>
                </div>
                <div class="profile-icon" id="profileBtn">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </header>

        <main id="mainContent">
            <div id="gameContainer" style="display: none;"></div>
            <div id="defaultContent"></div>
        </main>

<footer class="bottom-nav">
    <div class="nav-item active" onclick="window.KoreanLearningApp.showHomePage()">
        <i class="fas fa-home"></i>
        <span>Главная</span>
    </div>
    <div class="nav-item" onclick="window.KoreanLearningApp.showLevelsPage()">
        <i class="fas fa-layer-group"></i>
        <span>Уровни</span>
    </div>
    <div class="nav-item" onclick="window.KoreanLearningApp.showCardsPage()">
        <i class="far fa-sticky-note"></i>
        <span>Карточки</span>
    </div>
    <div class="nav-item" onclick="window.KoreanLearningApp.showProfilePage()">
        <i class="fas fa-user"></i>
        <span>Профиль</span>
    </div>
</footer>
    </div>

<script>
    // Глобальный объект для проверки загрузки
    window.appReady = {
        gamesLoaded: false,
        appLoaded: false
    };
</script>
<script src="js/games.js" onload="window.appReady.gamesLoaded = true"></script>
<script src="js/script.js" onload="window.appReady.appLoaded = true"></script>
<script>
    // Проверка готовности
    function checkAppReady() {
        if (window.appReady.gamesLoaded && window.appReady.appLoaded) {
            if (window.KoreanLearningApp && typeof window.KoreanLearningApp.init === 'function') {
                window.KoreanLearningApp.init();
            } else {
                console.error('KoreanLearningApp не инициализирован');
            }
        } else {
            setTimeout(checkAppReady, 100);
        }
    }
    checkAppReady();
</script>
</body>
</html>
